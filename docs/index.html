<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="R package to draw evenly-spaced and non-overlapping curves in a flow field, using the Jobard and Lefer (1997) algorithm.">
<title>Draw evenly-spaced and non-overlapping curves in a flow field • rlefer</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Draw evenly-spaced and non-overlapping curves in a flow field">
<meta property="og:description" content="R package to draw evenly-spaced and non-overlapping curves in a flow field, using the Jobard and Lefer (1997) algorithm.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">rlefer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/rlefer.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="rlefer">rlefer<a class="anchor" aria-label="anchor" href="#rlefer"></a>
</h1></div>
<p><code>rlefer</code> is a R package that provides an interface to the Jobard and Lefer (1997) algorithm implemented in C++. This algorithm can be used to draw non-overlapping and evenly-spaced curves in a flow field (i.e. vector field). This algorithm is thoroughly described in a scientific paper (Jobard and Lefer 1997), but you might <a href="https://pedro-faria.netlify.app/posts/2024/2024-02-19-flow-even/en/index.html" class="external-link">find this article useful too</a>.</p>
<p>This is an example of output you might end up getting with <code>rlefer</code>:</p>
<p><img src="./reference/figures/even_curves2.png"></p>
</div>
<div class="section level1">
<h1 id="install-the-package">Install the package<a class="anchor" aria-label="anchor" href="#install-the-package"></a>
</h1>
<p>To install the package, run:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"The-Erebor-Foundry/rlefer"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h1>
<p>In order to draw any curve with <code>rlefer</code>, you need to have a flow field first. That are different ways of generating a flow field, but the easiest and most common way of doing so, is by using 2D (or “two dimensional”) noise generators, such as the Perlin Noise algorithm.</p>
<p>In R, you can easily generate a flow field through Perlin Noise by using the <code><a href="https://ambient.data-imaginist.com/reference/noise_perlin.html" class="external-link">noise_perlin()</a></code> function from the <code>ambient</code> package. A flow field, in essence, is a 2D matrix of numeric values. Each value in this matrix represents an angle value. In other words, you can visualize a flow field as a 2D grid of angle values.</p>
<p>In the example below, we are generating a flow field that is 240x240. That is, a matrix of 240 rows and 240 columns.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ambient.data-imaginist.com" class="external-link">ambient</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">flow_field</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ambient.data-imaginist.com/reference/noise_perlin.html" class="external-link">noise_perlin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">240</span>, <span class="fl">240</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>After you generated the flow field you want to use, you can start to draw curves in it. The <code>rlefer</code> package offers two main functions for you to draw these curves, which are: <code><a href="reference/non_overlapping_curves.html">rlefer::non_overlapping_curves()</a></code> and <code><a href="reference/even_spaced_curves.html">rlefer::even_spaced_curves()</a></code>.</p>
<p>If you want to draw curves that do not overlap each other, but you do not care about how much far they are from each other, you probably want to use the function <code><a href="reference/non_overlapping_curves.html">rlefer::non_overlapping_curves()</a></code>. But if you want to draw curves that are both non-overlapping and evenly-spaced between each other, then, the function <code><a href="reference/even_spaced_curves.html">rlefer::even_spaced_curves()</a></code> is more suitable for you.</p>
<p>In the example below, we are attempting to draw 100 curves into the flow field, using 0.5 as the “separating distance”, 2.4 as the “step length”, and 30 steps for each curve, with a minimum number of steps allowed of 5. We get as a result, a tibble object with the x and y coordinates of each curve that was drawn.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rlefer</span><span class="op">)</span></span>
<span><span class="va">curves</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/even_spaced_curves.html">even_spaced_curves</a></span><span class="op">(</span></span>
<span>  <span class="fl">45</span>, <span class="fl">24</span>,</span>
<span>  <span class="fl">100</span>,</span>
<span>  <span class="fl">30</span>,</span>
<span>  <span class="fl">5</span>,</span>
<span>  <span class="fl">0.01</span> <span class="op">*</span> <span class="fl">240</span>,</span>
<span>  <span class="fl">0.5</span>,</span>
<span>  <span class="va">flow_field</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">curves</span></span></code></pre></div>
<pre><code># A tibble: 1,627 × 6
   curve_id steps_taken     x     y direction_id step_ids
      &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;
 1        0          30  45    24              0        0
 2        0          30  42.7  23.3            0        1
 3        0          30  40.4  22.7            0        2
 4        0          30  38.1  22.1            0        3
 5        0          30  35.7  21.5            0        4
 6        0          30  33.4  20.8            0        5
 7        0          30  31.1  20.2            0        6
 8        0          30  28.8  19.6            0        7
 9        0          30  26.5  18.9            0        8
10        0          30  24.2  18.3            0        9
# ℹ 1,617 more rows
# ℹ Use `print(n = ...)` to see more rows</code></pre>
</div>
<div class="section level1">
<h1 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h1>
<p>Jobard, Bruno, and Wilfrid Lefer. 1997. “Creating Evenly-Spaced Streamlines of Arbitrary Density.” In Visualization in Scientific Computing ’97, edited by Wilfrid Lefer and Michel Grave, 43–55. Vienna: Springer Vienna.</p>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rlefer</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Pedro Duarte Faria <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Pedro Duarte Faria.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
