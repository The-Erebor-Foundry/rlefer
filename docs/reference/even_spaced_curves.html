<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Draws multiple evenly-spaced and non-overlapping curves in a flow field,
using the Jobard and Lefer (1997) algorithm."><title>Draws multiple evenly-spaced and non-overlapping curves in a flow field. — even_spaced_curves • rlefer</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Draws multiple evenly-spaced and non-overlapping curves in a flow field. — even_spaced_curves"><meta property="og:description" content="Draws multiple evenly-spaced and non-overlapping curves in a flow field,
using the Jobard and Lefer (1997) algorithm."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rlefer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Draws multiple evenly-spaced and non-overlapping curves in a flow field.</h1>
      
      <div class="d-none name"><code>even_spaced_curves.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Draws multiple evenly-spaced and non-overlapping curves in a flow field,
using the Jobard and Lefer (1997) algorithm.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">even_spaced_curves</span><span class="op">(</span></span>
<span>  <span class="va">x_start</span>,</span>
<span>  <span class="va">y_start</span>,</span>
<span>  <span class="va">n_curves</span>,</span>
<span>  <span class="va">n_steps</span>,</span>
<span>  <span class="va">min_steps_allowed</span>,</span>
<span>  <span class="va">step_length</span>,</span>
<span>  <span class="va">d_sep</span>,</span>
<span>  <span class="va">flow_field</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x_start</dt>
<dd><p>the x coordinate of the starting point from which the function will start to draw your curve.</p></dd>


<dt>y_start</dt>
<dd><p>the y coordinate of the starting point from which the function will start to draw your curve.</p></dd>


<dt>n_curves</dt>
<dd><p>the number of curves you want to draw.</p></dd>


<dt>n_steps</dt>
<dd><p>the number of steps used to draw each curve.</p></dd>


<dt>min_steps_allowed</dt>
<dd><p>the minimum number of steps allowed in each curve (see Details for more info).</p></dd>


<dt>step_length</dt>
<dd><p>the length/distance taken in each step.</p></dd>


<dt>d_sep</dt>
<dd><p>the "separation distance", i.e., the amount of distance that each curve must be from neighbouring curves.</p></dd>


<dt>flow_field</dt>
<dd><p>a 2D matrix with double values, each double value represents an angle value.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>This function returns a <code>tibble</code> object with 6 columns:</p><ul><li><p><code>curve_id</code>: the ID of the curve.</p></li>
<li><p><code>x</code>: the x coordinates of each point that represents the curve.</p></li>
<li><p><code>y</code>: the y coordinates of each point that represents the curve.</p></li>
<li><p><code>direction_id</code>: which direction that the algorithm was following when drawing the current point (0 means from left to right, 1 means from right to left).</p></li>
<li><p><code>step_id</code>: the ID (or the number) of the current step.</p></li>
<li><p><code>steps_taken</code>: the number of steps taken to draw the current curve.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>You can use this function to draw multiple curves in a flow field.
Each curve will be non-overlapping and evenly-space between it's
neighbors.</p>
<p>In essence, this function takes a single starting point (<code>x_start</code> and <code>y_start</code>) in the flow field,
and it starts to draw a initial curve in the flow field. After that, the function starts a loop process,
to draw <code>n_curves - 1</code> curves from this initial curve. In other words, all the curves that are drawn
into the flow field are derived from this initial curve.</p>
<p>Is
worth noting that each starting point
represents the "middle point" of the curve, because the function draws a curve
in both directions. That is why we have the <code>direction_id</code> column in the
output of this function. It indicates what direction the function was
following when drawing the current section (or "step") of the current
curve.</p>
<p>In each step of the way, the function will check if the current curve that is being
drawn is too close to it's neighbors, by calculating it's distance to the existing curves
around it. If the current curve is getting too close to a neighbor curve, then,
the function will stop drawing the current curve, and will start to draw the
next curve in the queue.</p>
<p>If the function starts to draw a new curve, but the starting point of this new curve is already
too close to other existing curves, then, the function completely drops this curve (i.e.
it "gives up" on drawing this curve), and jumps to the next curve in the queue.</p>
<p>Also, if the function draws a new curve, but this curve have less than
<code>min_allowed_steps</code> steps, then, this curve is also completely dropped.
This avoids getting a high number of curves that are too short.</p>
<p>In other words, it is not guaranteed that this function will draw exactly <code>n_curves</code> curves
into the field, because, it might not have enough space for <code>n_curves</code> curves, considering your current settings.
So, the function
will attempt to draw as many curves as possible. As long as they are not overlapping
each other, and they are not too close to other neighbouring curves, the function will
continue to draw curves into the field.</p>
<p>For more details about how the algorithm works, check: <a href="https://pedro-faria.netlify.app/posts/2024/2024-02-19-flow-even/en/" class="external-link">https://pedro-faria.netlify.app/posts/2024/2024-02-19-flow-even/en/</a></p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Jobard, Bruno, and Wilfrid Lefer. 1997. “Creating Evenly-Spaced Streamlines of Arbitrary Density.” In Visualization in Scientific Computing ’97, edited by Wilfrid Lefer and Michel Grave, 43–55. Vienna: Springer Vienna.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ambient.data-imaginist.com" class="external-link">ambient</a></span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>package 'ambient' was built under R version 4.3.2</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">flow_field</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ambient.data-imaginist.com/reference/noise_perlin.html" class="external-link">noise_perlin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">240</span>, <span class="fl">240</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The coordinates x = 45 and y = 24 are used as the starting point:</span></span></span>
<span class="r-in"><span><span class="va">curves</span> <span class="op">&lt;-</span> <span class="fu">even_spaced_curves</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fl">45</span>, <span class="fl">24</span>,</span></span>
<span class="r-in"><span>  <span class="fl">100</span>,</span></span>
<span class="r-in"><span>  <span class="fl">30</span>,</span></span>
<span class="r-in"><span>  <span class="fl">5</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0.01</span><span class="op">*</span><span class="fl">240</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  <span class="va">flow_field</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Pedro Duarte Faria.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

