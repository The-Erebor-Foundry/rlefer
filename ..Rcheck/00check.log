* using log directory 'C:/Users/pedro/Documents/Projetos/Packages/rlefer/..Rcheck'
* using R version 4.3.1 (2023-06-16 ucrt)
* using platform: x86_64-w64-mingw32 (64-bit)
* R was compiled by
    gcc.exe (GCC) 12.2.0
    GNU Fortran (GCC) 12.2.0
* running under: Windows 11 x64 (build 22621)
* using session charset: UTF-8
* checking for file './DESCRIPTION' ... OK
* checking extension type ... Package
* this is package 'rlefer' version '1.0'
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... WARNING
Subdirectory 'rlefer/src' contains apparent object files/libraries
  RcppExports.o rlefer.dll rlefer.o rlefer.so
Object files/libraries should not be included in a source package.
* checking if there is a namespace ... OK
* checking for executable files ... WARNING
Found the following executable file:
  src/rlefer.dll
Source packages should not contain undeclared executable files.
See section 'Package structure' in the 'Writing R Extensions' manual.
* checking for hidden files and directories ... NOTE
Found the following hidden files and directories:
  .Rhistory
  .gitignore
  ..Rcheck
  .Rproj.user
  .git
These were most likely included in error. See section 'Package
structure' in the 'Writing R Extensions' manual.
* checking for portable file names ... OK
* checking whether package 'rlefer' can be installed ... OK
* used C++ compiler: 'G__~1.EXE (Rev7, Built by MSYS2 project) 13.1.0'
* checking C++ specification ... NOTE
  Specified C++11: please drop specification unless essential
* checking installed package size ... OK
* checking package directory ... OK
* checking DESCRIPTION meta-information ... NOTE
Checking should be performed on sources prepared by 'R CMD build'.
* checking top-level files ... OK
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... WARNING
Found the following directory with the name of a check directory:
  ./..Rcheck
Most likely, these were included erroneously.
* checking R files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ... OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking loading without being on the library search path ... OK
* checking dependencies in R code ... OK
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... OK
* checking Rd files ... WARNING
./man/even_spaced_curves.Rd: non-ASCII input and no declared encoding
./man/non_overlapping_curves.Rd: non-ASCII input and no declared encoding
problems found in 'even_spaced_curves.Rd', 'non_overlapping_curves.Rd'
* checking Rd metadata ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... WARNING
Objetos de código não documentados:
  'even_spaced_curves_impl' 'non_overlapping_curves_impl'
All user-level objects in a package should have documentation entries.
See chapter 'Writing R documentation files' in the 'Writing R
Extensions' manual.
* checking for code/documentation mismatches ... OK
* checking Rd \usage sections ... OK
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... WARNING
'library' or 'require' call not declared from: 'ambient'
* checking line endings in C/C++/Fortran sources/headers ... NOTE
Found the following sources/headers with CR or CRLF line endings:
  src/RcppExports.cpp
  src/rlefer.cpp
  src/rlefer.h
Some Unix compilers require LF line endings.
* checking line endings in Makefiles ... OK
* checking compilation flags in Makevars ... OK
* checking for GNU extensions in Makefiles ... OK
* checking for portable use of $(BLAS_LIBS) and $(LAPACK_LIBS) ... OK
* checking use of PKG_*FLAGS in Makefiles ... OK
* checking compiled code ... WARNING
File 'rlefer/libs/x64/rlefer.dll':
  Found 'abort', possibly from 'abort' (C), 'runtime' (Fortran)
    Object: 'RcppExports.o'

Compiled code should not call entry points which might terminate R nor
write to stdout/stderr instead of to the console, nor use Fortran I/O
nor system RNGs nor [v]sprintf.

See 'Writing portable packages' in the 'Writing R Extensions' manual.
* checking examples ... ERROR
Running examples in 'rlefer-Ex.R' failed
The error most likely occurred in:

> ### Name: even_spaced_curves
> ### Title: Draws multiple evenly-spaced and non-overlapping curves in a
> ###   flow field.
> ### Aliases: even_spaced_curves
> 
> ### ** Examples
> 
> library(ambient)
Warning: package 'ambient' was built under R version 4.3.2
> set.seed(50)
> flow_field <- noise_perlin(c(240, 240))
> # The coordinates x = 45 and y = 24 are used as the starting point:
> curves <- even_spaced_curves(
+   45, 24,
+   100,
+   30,
+   5,
+   0.01*240,
+   0.5,
+   flow_field
+ )
Error in `dplyr::filter()`:
ℹ In argument: `rlang::.data$curve_id > 0`.
Caused by error in `even_spaced_curves()`:
! Can't subset `.data` outside of a data mask context.
Backtrace:
     ▆
  1. ├─rlefer::even_spaced_curves(45, 24, 100, 30, 5, 0.01 * 240, 0.5, flow_field)
  2. │ ├─dplyr::filter(...)
  3. │ └─dplyr:::filter.data.frame(...)
  4. │   └─dplyr:::filter_rows(.data, dots, by)
  5. │     └─dplyr:::filter_eval(...)
  6. │       ├─base::withCallingHandlers(...)
  7. │       └─mask$eval_all_filter(dots, env_filter)
  8. │         └─dplyr (local) eval()
  9. ├─rlang::.data$curve_id
 10. └─rlang:::`$.rlang_fake_data_pronoun`(rlang::.data, curve_id)
 11.   └─rlang:::stop_fake_data_subset(call)
 12.     └─rlang::abort(...)
Execution halted
* checking PDF version of manual ... WARNING
LaTeX errors when creating PDF version.
This typically indicates Rd problems.
* checking PDF version of manual without index ... ERROR
Re-running with no redirection of stdout/stderr.
* DONE
Status: 2 ERRORs, 8 WARNINGs, 4 NOTEs
